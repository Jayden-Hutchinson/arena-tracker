{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jayden\\\\projects\\\\atr\\\\src\\\\react\\\\components\\\\match_history\\\\MatchHistory.js\",\n  _s = $RefreshSig$();\nimport \"./MatchHistory.css\";\nimport Match from \"../match/Match.js\";\nimport { useEffect, useState } from \"react\";\nimport { ClientApi } from \"../../../api/clientApi.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MatchInfo {\n  constructor(puuid, {\n    info\n  }) {\n    this.player = this.getPlayer(puuid, info);\n    this.team = this.getTeam(puuid, info);\n    this.duration = this.getMatchDuration(info);\n    this.date = this.getDate(info);\n    this.placement = this.getPlacement(info);\n  }\n  getDate(info) {\n    const date = new Date(info.gameCreation);\n    return `${date.getMonth()}/${date.getDate()}/${date.getFullYear()}`;\n  }\n  getMatchDuration(info) {\n    const totalSeconds = info.gameDuration;\n    const seconds = totalSeconds % 60;\n    const minutes = Math.floor(totalSeconds / 60);\n    return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n  }\n  getPlayer(puuid, info) {\n    return info.participants.find(player => player.puuid === puuid);\n  }\n  getTeam(puuid, info) {\n    const teamMate = info.participants.find(teamMate => teamMate.playerSubteamId === this.player.playerSubteamId && teamMate.puuid !== puuid);\n    const team = [this.player, teamMate];\n    return {\n      id: this.player.teamId,\n      players: team\n    };\n  }\n  getPlacement() {\n    return this.player.placement;\n  }\n}\nfunction MatchHistory({\n  puuid,\n  matchIds\n}) {\n  _s();\n  const [matches, setMatches] = useState([]);\n  useEffect(() => {\n    async function sleep(ms) {\n      return new Promise(res => setTimeout(res, ms));\n    }\n    async function getMatchIds() {\n      for (const id of matchIds) {\n        const matchData = await ClientApi.fetchMatchData(id);\n        console.log(matchData);\n        await sleep(1200);\n        setMatches(prev => [...prev, new MatchInfo(puuid, matchData)]);\n      }\n    }\n    getMatchIds();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"MatchHistory\",\n    children: matches && matches.map((matchInfo, index) => {\n      return /*#__PURE__*/_jsxDEV(Match, {\n        puuid: puuid,\n        matchInfo: matchInfo\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 18\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(MatchHistory, \"YhlcfFikU4Xnm4DkUW695+Zqf6o=\");\n_c = MatchHistory;\nexport default MatchHistory;\nvar _c;\n$RefreshReg$(_c, \"MatchHistory\");","map":{"version":3,"names":["Match","useEffect","useState","ClientApi","jsxDEV","_jsxDEV","MatchInfo","constructor","puuid","info","player","getPlayer","team","getTeam","duration","getMatchDuration","date","getDate","placement","getPlacement","Date","gameCreation","getMonth","getFullYear","totalSeconds","gameDuration","seconds","minutes","Math","floor","toString","padStart","participants","find","teamMate","playerSubteamId","id","teamId","players","MatchHistory","matchIds","_s","matches","setMatches","sleep","ms","Promise","res","setTimeout","getMatchIds","matchData","fetchMatchData","console","log","prev","className","children","map","matchInfo","index","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Jayden/projects/atr/src/react/components/match_history/MatchHistory.js"],"sourcesContent":["import \"./MatchHistory.css\";\r\n\r\nimport Match from \"../match/Match.js\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ClientApi } from \"../../../api/clientApi.js\";\r\n\r\nclass MatchInfo {\r\n  constructor(puuid, { info }) {\r\n    this.player = this.getPlayer(puuid, info);\r\n    this.team = this.getTeam(puuid, info);\r\n    this.duration = this.getMatchDuration(info);\r\n    this.date = this.getDate(info);\r\n    this.placement = this.getPlacement(info);\r\n  }\r\n\r\n  getDate(info) {\r\n    const date = new Date(info.gameCreation);\r\n    return `${date.getMonth()}/${date.getDate()}/${date.getFullYear()}`;\r\n  }\r\n\r\n  getMatchDuration(info) {\r\n    const totalSeconds = info.gameDuration;\r\n    const seconds = totalSeconds % 60;\r\n    const minutes = Math.floor(totalSeconds / 60);\r\n    return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\r\n  }\r\n  getPlayer(puuid, info) {\r\n    return info.participants.find((player) => player.puuid === puuid);\r\n  }\r\n\r\n  getTeam(puuid, info) {\r\n    const teamMate = info.participants.find(\r\n      (teamMate) =>\r\n        teamMate.playerSubteamId === this.player.playerSubteamId &&\r\n        teamMate.puuid !== puuid\r\n    );\r\n\r\n    const team = [this.player, teamMate];\r\n    return { id: this.player.teamId, players: team };\r\n  }\r\n\r\n  getPlacement() {\r\n    return this.player.placement;\r\n  }\r\n}\r\nfunction MatchHistory({ puuid, matchIds }) {\r\n  const [matches, setMatches] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function sleep(ms) {\r\n      return new Promise((res) => setTimeout(res, ms));\r\n    }\r\n\r\n    async function getMatchIds() {\r\n      for (const id of matchIds) {\r\n        const matchData = await ClientApi.fetchMatchData(id);\r\n        console.log(matchData);\r\n        await sleep(1200);\r\n        setMatches((prev) => [...prev, new MatchInfo(puuid, matchData)]);\r\n      }\r\n    }\r\n    getMatchIds();\r\n  }, []);\r\n  return (\r\n    <ul className=\"MatchHistory\">\r\n      {matches &&\r\n        matches.map((matchInfo, index) => {\r\n          return <Match key={index} puuid={puuid} matchInfo={matchInfo} />;\r\n        })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default MatchHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}